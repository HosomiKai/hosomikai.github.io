---
tags:
  - Blockchain
  - BIP
---
# ä»€éº¼æ˜¯BIP-0044 ?

## å‰è¨€

åœ¨é–‹ç™¼ä¼æ¥­åŠ å¯†è²¨å¹£éŒ¢åŒ…çš„æ™‚å€™ï¼Œå› ç‚ºCYBAVO çš„API æ¥è§¸åˆ°äº† Coin typeã€‚

ä»–å€‘ä½¿ç”¨äº†å®šç¾©æ–¼ BIP-0044 ä¸­çš„ Coin Type ä¾†å€åˆ†ä¸åŒçš„åŠ å¯†è²¨å¹£ã€‚

å› æ­¤è©³è®€äº†ä¸€ä¸‹é—œæ–¼BIP-0044 çš„å…§å®¹ã€‚ 

## å…ˆä¾†èªªèªªä»€éº¼æ˜¯BIPï¼Ÿ

BIP åŸæ–‡æ˜¯ **Bitcoin Improvement Proposal** ä¹Ÿå°±æ˜¯æ¯”ç‰¹å¹£æ”¹é€²è¨ˆç•«çš„ç¸®å¯«

## ä»€éº¼æ˜¯BIP-0044ï¼Ÿ

BIP-0044æ˜¯ä¸€å€‹Bitcoin Improvement Proposalï¼ˆæ¯”ç‰¹å¹£æ”¹é€²ææ¡ˆï¼‰ï¼Œæå‡ºäº†ä¸€å€‹ç¨±ç‚º"Hierarchical Deterministic (HD) Wallets"ï¼ˆåˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ï¼‰çš„æ¨™æº–ã€‚é€™å€‹ææ¡ˆæè¿°äº†å¦‚ä½•ç”Ÿæˆå’Œçµ„ç¹”ç”±ç§é‘°ï¼ˆkeysï¼‰ç”¢ç”Ÿçš„æ‰€æœ‰æ¯”ç‰¹å¹£åœ°å€ï¼ˆaddressesï¼‰ã€‚

BIP0044çš„ä¸»è¦ç›®æ¨™æ˜¯è®“ä½¿ç”¨è€…èƒ½å¤ åœ¨å–®ä¸€åŠ©è¨˜è©ï¼ˆmnemonicï¼‰å’Œä¸»ç§é‘°ï¼ˆmaster private keyï¼‰çš„åŸºç¤ä¸Šç”Ÿæˆå¤šå€‹æ¯”ç‰¹å¹£å’Œå…¶ä»–åŠ å¯†è²¨å¹£çš„åœ°å€ã€‚é€™æ¨£åšçš„å¥½è™•æ˜¯ï¼Œä½¿ç”¨è€…åªéœ€è¦ä¿å­˜ä¸€çµ„åŠ©è¨˜è©å’Œä¸»ç§é‘°ï¼Œå°±å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†å¤šå€‹éŒ¢åŒ…å’Œåœ°å€ï¼Œè€Œç„¡éœ€å–®ç¨ä¿å­˜æ¯å€‹éŒ¢åŒ…çš„ç§é‘°ã€‚

æ ¹æ“šBIP0044çš„æ¨™æº–ï¼Œæ¯å€‹éŒ¢åŒ…éƒ½æœ‰ä¸€å€‹å”¯ä¸€çš„æ¨™è­˜ç¬¦ï¼Œç¨±ç‚º"coin_type"ã€‚é€™å€‹æ¨™è­˜ç¬¦ç”¨æ–¼å€åˆ†ä¸åŒçš„åŠ å¯†è²¨å¹£ï¼Œä¾‹å¦‚æ¯”ç‰¹å¹£ï¼ˆBitcoinï¼‰çš„coin_typeç‚º0ï¼Œä»¥å¤ªåŠï¼ˆEthereumï¼‰çš„coin_typeç‚º60ç­‰ç­‰ã€‚é€šéä½¿ç”¨ä¸åŒçš„coin_typeï¼Œä½¿ç”¨è€…å¯ä»¥åœ¨åŒä¸€çµ„åŠ©è¨˜è©å’Œä¸»ç§é‘°çš„åŸºç¤ä¸Šç”Ÿæˆä¸åŒç¨®é¡çš„åŠ å¯†è²¨å¹£åœ°å€ã€‚


> ğŸ’¡ BIP-0044ä»¥BIP-0032 æè¿°çš„æ¼”ç®—æ³•èˆ‡BIP-0043çš„ç›®çš„ç‚ºåŸºç¤ï¼Œå®šç¾© HD Wallets çš„é‚è¼¯å±¤

---

## **Path levels**

åœ¨BIP32ä¸­æ‰€å®šç¾©åˆ†å±¤è·¯å¾‘ï¼š

```php
m / purpose' / coin_type' / account' / change / address_index
```

>ğŸ’¡ åœ¨åŠ å¯†è²¨å¹£çš„è¡“èªä¸­ï¼Œ"m" é€šå¸¸ä»£è¡¨ "Master Key" æˆ– "Master Seed"ï¼Œå®ƒæ˜¯ä¸€å€‹æ ¹æ“šç‰¹å®šç®—æ³•ç”Ÿæˆçš„å¯†é‘°æˆ–ç¨®å­ã€‚åœ¨ä½¿ç”¨åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ï¼ˆHierarchical Deterministic Walletï¼‰æ™‚ï¼Œé€šå¸¸æœƒä½¿ç”¨ "m" ä½œç‚ºä»£è¡¨æ•´å€‹éŒ¢åŒ…çš„ä¸»è¦æ ¹é‡‘é‘°ã€‚


### Purpose

å›ºå®šç‚º 44 æˆ– 0x8000002C èˆ‡ BIP-0032 çš„è·¯å¾‘åšå€åˆ†(ä¾‹å¦‚æ¯”ç‰¹å¹£ m/0â€™)ï¼Œç¢ºä¿ä¸åŒåŠ å¯†è²¨å¹£ä½¿ç”¨ä¸åŒçš„ç›®çš„å€¼é¿å…è¡çª

å› æ­¤ç›®çš„å€¼ç‚º 44 æ˜¯ BIP-44 æ¨™æº–çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨ç¢ºä¿åœ¨åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ä¸­ç”Ÿæˆçš„åœ°å€æ˜¯æŒ‰ç…§çµ±ä¸€çš„æ¨™æº–é€²è¡Œçµ„ç¹”å’Œç®¡ç†ã€‚

### Coin Type

- ç‚ºæ¯å€‹åŠ å¯†è²¨å¹£å‰µå»ºä¸€å€‹å–®ç¨çš„subtreeï¼Œé¿å…èª‡åŠ å¯†è²¨å¹£é‡è¤‡ä½¿ç”¨ä½å€çš„å•é¡Œï¼Œä¸¦æ”¹å–„éš±ç§å•é¡Œ
- åŠ å¯†è²¨å¹£é–‹ç™¼äººå“¡é–‹ç™¼å‡ºæ–°çš„å¹£ç¨®çš„æ™‚å€™å¯ä»¥è¦æ±‚è¨»å†Šç‚ºæœªä½¿ç”¨çš„è™Ÿç¢¼ã€‚
- ä½¿ç”¨ Hardened derivation


>ğŸ’¡ Hardened derivation æ˜¯åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ï¼ˆHierarchical Deterministic Walletï¼‰ä¸­çš„ä¸€å€‹æ¦‚å¿µï¼Œç”¨æ–¼åœ¨æ´¾ç”Ÿå­ç§é‘°ï¼ˆchild private keyï¼‰æ™‚å¢åŠ é¡å¤–çš„å®‰å…¨æ€§ã€‚åœ¨åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ä¸­ï¼Œç§é‘°å’Œå…¬é‘°æ˜¯æŒ‰ç…§ç‰¹å®šçš„è¦å‰‡é€²è¡Œæ´¾ç”Ÿçš„ã€‚é€šå¸¸ï¼Œä½¿ç”¨ BIP-32 æ¨™æº–ï¼Œå¯ä»¥å¾ä¸»ç§é‘°ï¼ˆmaster private keyï¼‰æ´¾ç”Ÿå­ç§é‘°ï¼Œä¸¦ä¸”å°æ‡‰çš„å…¬é‘°ä¹Ÿå¯ä»¥å¾ä¸»å…¬é‘°ï¼ˆmaster public keyï¼‰æ´¾ç”Ÿã€‚æ´¾ç”Ÿçš„å­ç§é‘°å’Œå­å…¬é‘°å¯ä»¥ç”¨æ–¼ç”ŸæˆåŠ å¯†è²¨å¹£çš„åœ°å€ã€‚
>
>è€Œ Hardened derivation å‰‡æ˜¯åœ¨æ´¾ç”Ÿå­ç§é‘°æ™‚ä½¿ç”¨äº†é¡å¤–çš„å“ˆå¸Œå‡½æ•¸ï¼Œå°‡å…¶æ´¾ç”Ÿçš„å­ç§é‘°èˆ‡ä¸»ç§é‘°ä¹‹é–“å»ºç«‹ä¸€ç¨®å¼·å£¯çš„é—œä¿‚ã€‚é€™æ¨£å¯ä»¥ç¢ºä¿å³ä½¿ä¸»ç§é‘°æ´©éœ²ï¼Œä¹Ÿç„¡æ³•é€šéæ¨å°å‡ºå­ç§é‘°ä¾†ç²å–å…¶ä»–çš„å­ç§é‘°ã€‚
>
>ä½¿ç”¨ Hardened derivation æ´¾ç”Ÿçš„å­ç§é‘°ï¼Œéœ€è¦é¡å¤–çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ä¸»ç§é‘°ï¼‰ä¾†æ¨å°å‡ºä¾†ï¼Œé€™æ¨£å¯ä»¥æé«˜ç§é‘°çš„å®‰å…¨æ€§ã€‚å®ƒä¸»è¦ç”¨æ–¼ä¿è­·åˆ†å±¤ç¢ºå®šæ€§éŒ¢åŒ…ä¸­çš„ç§é‘°ï¼Œé˜²æ­¢åœ¨ä¸€å€‹ç§é‘°æ³„éœ²çš„æƒ…æ³ä¸‹å°è‡´æ•´å€‹éŒ¢åŒ…çš„è¢«ç›œé¢¨éšªã€‚
>
>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHardened derivation éœ€è¦åœ¨ç”Ÿæˆä¸»ç§é‘°æ™‚ä½¿ç”¨é¡å¤–çš„ç†µï¼ˆentropyï¼‰æˆ–å¯†ç¢¼å­¸éš¨æ©Ÿæ•¸ç”Ÿæˆå™¨ï¼Œå› æ­¤éœ€è¦æ›´é«˜çš„å®‰å…¨æ€§å’Œéš¨æ©Ÿæ€§ä¾†ç¢ºä¿æ´¾ç”Ÿçš„ç§é‘°çš„å®‰å…¨æ€§ã€‚

### Account

- ç”¨æ–¼å°‡Key Space åˆ†å‰²æˆä¸åŒçš„ç”¨æˆ¶è­˜åˆ¥ï¼Œç¢ºä¿éŒ¢åŒ…åœ¨ä¸åŒå¸³æˆ¶ä¹‹é–“ä¸æœƒæ··åˆè²¨å¹£
- ç”¨æˆ¶å¯ä½¿ç”¨é€™äº›å¸³æˆ¶ä¾†çµ„ç¹”è³‡é‡‘ç”¨æ–¼ä¸åŒç”¨é€”ã€‚åƒéŠ€è¡Œå¸³æˆ¶ä¸€æ¨£ï¼Œå¯ç”¨æ–¼æè´ˆã€å„²è“„ã€å…±åŒé–‹æ”¯ç­‰ä¸åŒçš„ç›®çš„ã€‚
- è³¬æˆ¶å¾ç´¢å¼•0é–‹å§‹ä»¥éå¢çš„æ–¹å¼ç·¨è™Ÿï¼Œè©²ç´¢å¼•åœ¨ BIP32 æ´¾ç”Ÿä¸­ç”¨ä½œå­ç´¢å¼•
- åœ¨é€™å€‹å±¤ç´šä¸Šä½¿ç”¨äº† Hardened derivationï¼Œå®ƒå¢åŠ äº†æ´¾ç”Ÿçš„ç§é‘°çš„å®‰å…¨æ€§
- è»Ÿé«”æ‡‰è©²é˜²æ­¢åœ¨å‰ä¸€å€‹è³¬æˆ¶æ²’æœ‰äº¤æ˜“è¨˜éŒ„ï¼ˆè¡¨ç¤ºå…¶åœ°å€å¾æœªä½¿ç”¨éï¼‰çš„æƒ…æ³ä¸‹å‰µå»ºæ–°çš„è³¬æˆ¶ã€‚
- è»Ÿé«”éœ€è¦åœ¨å¾å¤–éƒ¨æºå°å…¥ç¨®å­å¾Œï¼Œç™¼ç¾æ‰€æœ‰å·²ä½¿ç”¨çš„è³¬æˆ¶ã€‚ç›¸é—œçš„æ¼”ç®—æ³•åœ¨ã€Œè³¬æˆ¶ç™¼ç¾ã€ç« ç¯€ä¸­æœ‰æè¿°ã€‚

### Change

- 0 ç”¨æ–¼å¤–éƒ¨éˆ ( external Chain )
- 1 ç”¨æ–¼å…§éƒ¨éˆ ( Internal Chain)
- å¤–éƒ¨éˆç”¨æ–¼å¸Œæœ›åœ¨éŒ¢åŒ…å¤–å¯è¦‹çš„åœ°å€ ( Receiving Payments )
- å…§éƒ¨éˆç”¨æ–¼ä¸å¸Œæœ›éŒ¢åŒ…å¤–å¯è¦‹çš„åœ°å€ ( Return transaction change)
- ä½¿ç”¨ Public Derivation


>ğŸ’¡ å…¬é–‹æ´¾ç”Ÿï¼ˆPublic derivationï¼‰æ˜¯ä¸€ç¨®æ´¾ç”Ÿé‡‘é‘°çš„æ–¹æ³•ï¼Œç”¨æ–¼ç”Ÿæˆä¸€ç³»åˆ—ç›¸é—œçš„å­é‡‘é‘°ã€‚åœ¨é€™ç¨®æ´¾ç”Ÿæ–¹å¼ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸»é‡‘é‘°ï¼ˆä¾‹å¦‚ BIP32 ä¸­çš„ç¨®å­ï¼‰æ´¾ç”Ÿå‡ºå¤šå€‹å…¬é–‹é‡‘é‘°ï¼Œè€Œç„¡éœ€æ´¾ç”Ÿå‡ºç›¸æ‡‰çš„ç§é‘°ã€‚é€™ä½¿å¾—å¯ä»¥åœ¨ä¸æš´éœ²ç§é‘°çš„æƒ…æ³ä¸‹ï¼Œç”Ÿæˆä¸€çµ„ç›¸é—œçš„å…¬é–‹é‡‘é‘°ï¼Œç”¨æ–¼åŠ å¯†ã€é©—è­‰ç­‰æ“ä½œã€‚
>
>å…¬é–‹æ´¾ç”Ÿå¸¸ç”¨æ–¼å»ºç«‹å¤šå€‹ç›¸é—œçš„å­éŒ¢åŒ…ï¼Œæ¯å€‹å­éŒ¢åŒ…éƒ½æœ‰è‡ªå·±çš„å…¬é–‹é‡‘é‘°ï¼Œå¯ä»¥é€²è¡Œç¨ç«‹çš„åŠ å¯†å’Œé©—è­‰æ“ä½œã€‚é€™åœ¨å¤šç”¨æˆ¶éŒ¢åŒ…ã€åˆ†å±¤çµæ§‹çš„éŒ¢åŒ…ç³»çµ±ç­‰å ´æ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚
>
>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¬é–‹æ´¾ç”Ÿåƒ…ç”Ÿæˆå…¬é–‹é‡‘é‘°ï¼Œç„¡æ³•ç”Ÿæˆç›¸æ‡‰çš„ç§é‘°ã€‚å¦‚æœéœ€è¦å°æ‡‰çš„ç§é‘°ï¼Œå‰‡éœ€è¦ä½¿ç”¨ç›¸æ‡‰çš„ç§é‘°æ´¾ç”Ÿæ–¹æ³•ã€‚
>
>ç¸½çµä¾†èªªï¼Œå…¬é–‹æ´¾ç”Ÿæ˜¯ä¸€ç¨®ç”Ÿæˆç›¸é—œçš„å…¬é–‹é‡‘é‘°çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ–¼å»ºç«‹å¤šå€‹ç›¸é—œçš„å­éŒ¢åŒ…æˆ–é€²è¡Œç›¸é—œçš„åŠ å¯†ã€é©—è­‰ç­‰æ“ä½œã€‚

### Index

- åœ°å€å¾ç´¢å¼• 0 é–‹å§‹ä»¥éå¢çš„æ–¹å¼é€²è¡Œç·¨è™Ÿã€‚é€™å€‹æ•¸å­—è¢«ç”¨ä½œ BIP32 æ´¾ç”Ÿä¸­çš„å­ç´¢å¼•ï¼Œç”¨æ–¼ç”Ÿæˆç›¸æ‡‰çš„å­é‡‘é‘°ã€‚
- ä½¿ç”¨ Public derivation

---

## Account Discovery

[é—œæ–¼ Account Discovery çš„æ­¥é©Ÿ](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#account-discovery)

### **Address gap limit**

- address gap limit ç›®å‰è¨­ç½®ç‚º20
- å¦‚æœè»Ÿé«”é€£çºŒé‡åˆ° 20 å€‹æœªä½¿ç”¨çš„åœ°å€ï¼Œå®ƒæœƒå‡è¨­åœ¨æ­¤ä¹‹å¾Œæ²’æœ‰ä½¿ç”¨çš„åœ°å€ï¼Œä¸¦åœæ­¢æœå°‹åœ°å€éˆ
- åªæƒæå¤–éƒ¨éˆï¼Œå› ç‚ºå…§éƒ¨éˆåªæ¥æ”¶ä¾†è‡ªç›¸æ‡‰å¤–éƒ¨éˆçš„ç¡¬å¹£
- éŒ¢åŒ…è»Ÿé«”æ‡‰è©²åœ¨ä½¿ç”¨è€…è©¦åœ–åœ¨å¤–éƒ¨éˆä¸Šè¶…éå·®è·é™åˆ¶ä¸¦ç”Ÿæˆæ–°åœ°å€æ™‚ç™¼å‡ºè­¦å‘Š

## Registered Coin Types

[SLIP-0044 : Registered coin types for BIP-0044](https://github.com/satoshilabs/slips/blob/master/slip-0044.md)

è¨»å†Šæ–°çš„ Coin type éœ€è¦å¯¦ä½œç¬¦åˆä»¥ä¸Šæ¨™æº–çš„éŒ¢åŒ…ï¼Œä¸¦ç™¼Pull Request åˆ°ä¸Šè¿°çš„Repository

## ç¸½çµ

ç¸½çµä¾†èªªï¼ŒBIP0044æä¾›äº†ä¸€å€‹æ¨™æº–çš„æ–¹æ³•ä¾†ç”Ÿæˆå’Œç®¡ç†å¤šå€‹åŠ å¯†è²¨å¹£åœ°å€ï¼Œä½¿å¾—ä½¿ç”¨è€…æ›´åŠ æ–¹ä¾¿åœ°ç®¡ç†ä»–å€‘çš„åŠ å¯†è²¨å¹£è³‡ç”¢ã€‚

## **Reference**

[CYBAVO - Currency Definition](https://www.cybavo.com/developers/appendix/currency-definition/)

[bips/bip-0044.mediawiki at master Â· bitcoin/bips](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki)

[bips/bip-0032.mediawiki at master Â· bitcoin/bips](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)

[bips/bip-0043.mediawiki at master Â· bitcoin/bips](https://github.com/bitcoin/bips/blob/master/bip-0043.mediawiki)